<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="How to properly configure an Angular application for SAAS solutions">

    <meta property="og:title" content="Fighting with Angular Environments | Sofia Vicedomini - The Italian Programmer"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="https://italianprogrammer.pizza/2022/01/13/fighting-with-angular-environments"/>
    <link rel="canonical" href="https://italianprogrammer.pizza/2022/01/13/fighting-with-angular-environments"/>
    <meta property="og:description" content="How to properly configure an Angular application for SAAS solutions"/>

        <meta property="og:type" content="article"/>
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@blacksoulgem95" />
    <meta name="twitter:creator" content="@blacksoulgem95" />
    <meta name="twitter:title" content="Fighting with Angular Environments" />
    <meta name="twitter:description" content="How to properly configure an Angular application for SAAS solutions" />

    <meta property="og:locale" content="en_GB" />

        <meta property="og:description" content="How to properly configure an Angular application for SAAS solutions">

    <script type="application/ld+json">
    {
   "@context":"https://schema.org",
   "@type":"Article",
   "headline":"Fighting with Angular Environments",
   "image":"https://italianprogrammer.pizza",
   "author":"Sofia Vicedomini",
   "keywords":"angular configuration environment environments saas",
   "publisher":{
      "@type":"Person",
      "name":"Sofia Vicedomini"
   },
   "url":"https://italianprogrammer.pizza/2022/01/13/fighting-with-angular-environments",
   "datePublished":"2022-01-13",
   "dateCreated":"2022-01-13",
   "dateModified":"2022-01-13",
   "description":"How to properly configure an Angular application for SAAS solutions",
   "articleBody":"Angular has a fantastic way of setting configurations for our application if our application has only one company as its users. But, what if we need to deploy our application, with different variables each time?"
}

</script>
    <title>Fighting with Angular Environments | Sofia Vicedomini - The Italian Programmer</title>

    <link rel="home" href="https://italianprogrammer.pizza">
    <link rel="icon" href="/favicon.ico">
    <link href="/blog/feed.atom" type="application/atom+xml" rel="alternate" title="Sofia Vicedomini - The Italian Programmer Atom Feed">

        <!-- Insert analytics code here -->
    

    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i"
          rel="stylesheet">
    <link rel="stylesheet" href="/assets/build/css/main.css?id=33813f4a10868e82fd250a00007a18dd">

    <script type="text/javascript">
    var _iub = _iub || [];
    _iub.csConfiguration = {
        "ccpaAcknowledgeOnDisplay": true,
        "ccpaApplies": true,
        "consentOnContinuedBrowsing": false,
        "enableCcpa": true,
        "enableTcf": true,
        "floatingPreferencesButtonDisplay": "anchored-center-left",
        "invalidateConsentWithoutLog": true,
        "lang": "en-GB",
        "perPurposeConsent": true,
        "siteId": 2520998,
        "tcfPurposes": {
            "1": true,
            "2": "consent_only",
            "3": "consent_only",
            "4": "consent_only",
            "5": "consent_only",
            "6": "consent_only",
            "7": "consent_only",
            "8": "consent_only",
            "9": "consent_only",
            "10": "consent_only"
        },
        "whitelabel": false,
        "cookiePolicyId": 70266224,
        "banner": {
            "acceptButtonDisplay": true,
            "backgroundOverlay": true,
            "closeButtonRejects": true,
            "customizeButtonDisplay": true,
            "explicitWithdrawal": true,
            "logo": "https://italianprogrammer.pizza/assets/img/logo.png",
            "position": "bottom",
            "rejectButtonDisplay": true
        }
    };
</script>
<script type="text/javascript" src="//cdn.iubenda.com/cs/tcf/stub-v2.js"></script>
<script type="text/javascript" src="//cdn.iubenda.com/cs/tcf/safe-tcf-v2.js"></script>
<script type="text/javascript" src="//cdn.iubenda.com/cs/ccpa/stub.js"></script>
<script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script>
</head>

<body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-800 leading-normal font-sans">
<header class="flex items-center shadow bg-white border-b h-24 py-4" role="banner">
    <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
        <div class="flex items-center">
            <a href="/" title="Sofia Vicedomini - The Italian Programmer home" class="inline-flex items-center">
                <img class="h-8 md:h-10 mr-3" src="/assets/img/logo.png" alt="Sofia Vicedomini - The Italian Programmer logo"/>

                
            </a>
        </div>

        <div id="vue-search" class="flex flex-1 justify-end items-center">
            <search></search>

            <nav class="hidden lg:flex items-center justify-end text-lg">
    <a title="Sofia Vicedomini - The Italian Programmer Blog" href="/blog"
        class="ml-6 text-gray-700 hover:text-pink-600 ">
        Blog
    </a>

    <a title="Sofia Vicedomini - The Italian Programmer About" href="/about"
        class="ml-6 text-gray-700 hover:text-pink-600 ">
        About
    </a>

    <a title="Sofia Vicedomini - The Italian Programmer Projects" href="/projects"
        class="ml-6 text-gray-700 hover:text-pink-600 ">
        Projects
    </a>

    <a title="Sofia Vicedomini - The Italian Programmer Shop" href="/shop"
        class="ml-6 text-gray-700 hover:text-pink-600 ">
        Shop
    </a>

    <a title="Sofia Vicedomini - The Italian Programmer Contact" href="/contact"
        class="ml-6 text-gray-700 hover:text-pink-600 ">
        Contact
    </a>
</nav>

            <button class="flex justify-center items-center bg-pink-500 border border-pink-500 h-10 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

        </div>
    </div>
</header>

<nav id="js-nav-menu" class="w-auto px-2 pt-6 pb-2 bg-gray-200 shadow hidden lg:hidden">
    <ul class="my-0">
        <li class="pl-4">
            <a
                title="Sofia Vicedomini - The Italian Programmer Blog"
                href="/blog"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-pink-500"
            >Blog</a>
        </li>
        <li class="pl-4">
            <a
                title="Sofia Vicedomini - The Italian Programmer About"
                href="/about"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-pink-500"
            >About</a>
        </li>
        <li class="pl-4">
            <a
                title="Sofia Vicedomini - The Italian Programmer Projects"
                href="/projects"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-pink-500"
            >Projects</a>
        </li>
        <li class="pl-4">
            <a
                title="Sofia Vicedomini - The Italian Programmer Shop"
                href="/shop"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-pink-500"
            >Shop</a>
        </li>
        <li class="pl-4">
            <a
                title="Sofia Vicedomini - The Italian Programmer Contact"
                href="/contact"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-pink-500"
            >Contact</a>
        </li>
    </ul>
</nav>


<main role="main" class="flex-auto w-full container max-w-4xl mx-auto py-16 px-6">
        
    <h1 class="leading-none mb-2">Fighting with Angular Environments</h1>

    <p class="text-gray-700 text-xl md:mt-0">Sofia Vicedomini • January 13, 2022</p>

                        <a
                    href="/categories/english"
                    title="View posts in english"
                    class="inline-block bg-gray-300 hover:bg-pink-200 leading-loose tracking-wide text-gray-800 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
            >english</a>
                    <a
                    href="/categories/software-development"
                    title="View posts in software-development"
                    class="inline-block bg-gray-300 hover:bg-pink-200 leading-loose tracking-wide text-gray-800 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
            >software-development</a>
            
    <div class="border-b border-pink-200 mb-10 pb-4" v-pre>
        <p>Angular has a fantastic way of setting configurations for our application if our application has only one company as its users. But, what if we need to deploy our application, with different variables each time? (Like in a white-labeled SaaS deployment or on-prem deployment).</p>

<h2>How Angular Env works</h2>

<p>Angular works through the magic of the <code  class="language-bash">src/environments/environment.ts</code> file, which is substituted every time with the correct version, which lives alongside it.</p>

<p>If you deep dive into the configuration of our <code  class="language-bash">angular.json</code> file you will notice this:</p>

<pre class="language-json">
<code class="language-json">
"development": {
 "buildOptimizer": false,
 "optimization": false,
 "vendorChunk": true,
 "extractLicenses": false,
 "sourceMap": true,
 "namedChunks": true,
 "fileReplacements": [
   {
     "replace": "src/environments/environment.ts",
     "with": "src/environments/environment.dev.ts"
   }
 ]
}
</code>
</pre>

<p>As you see, when we deploy for a specific environment, Angular copies it’s environment file and uses it to substitute with the original one, and will be taken by the rest of the application for processing.</p>

<h2>But I can’t have 2000 configuration files around!</h2>

<p>Exactly! That’s the problem we’re going to solve right now.</p>

<p>We will need two (dev) dependencies tho:</p>

<pre class="language-bash">
<code class="language-bash">
dotenv
handlebars
</code>
</pre>

<p>you can simply install them through the following code:</p>

<pre class="language-bash">
<code class="language-bash">
npm i --save-dev dotenv handlebars
</code>
</pre>

<h2>Creating our configuration template</h2>

<p>In the <code class="language-bash">src/environments</code> folder we will create a <code class="language-bash">environment.hbs</code> file, with the following content:</p>

<pre class="language-javascript">
<code class="language-javascript">
export const environment = {
  production: {{PRODUCTION}},
  apiURL: '{{BACKEND_URL}}',
  authURL: '{{AUTH_URL}}'
}
</code>
</pre>

<p>Obviously, feel free to adapt it to your needs, remember to refer to the handlebars documentation, which will come quite handy if you’re new to handlebars templating engine.</p>

<h2>Parsing the template</h2>

<p>Now comes the fun part, in the root of your project, let’s create a <code class="langauge-bash">env-config.js</code> file that looks like the following:</p>

<pre class="language-javascript">
<code class="language-javascript">
require('dotenv')
const path = require('path')
const fs = require('fs')
const hbs = require('handlebars')

const envPath = path.join(__dirname, 'src', 'environments')
const templateFilePath = path.join(envPath, 'environment.hbs')
const environmentFilePath = path.join(envPath, 'environment.ts')

const template = hbs.compile(fs.readFileSync(templateFilePath, { encoding: 'utf-8' }))

const data = {
  PRODUCTION: process.env.PRODUCTION || false,
  BACKEND_URL: process.env.BACKEND_URL || 'http://localhost:3000',
  AUTH_URL: process.env.AUTH_URL || 'http://localhost:3000/auth'
}

fs.writeFileSync(environmentFilePath, template(data), { encoding: 'utf-8' })
</code>
</pre>

<p>What does it do? Let’s go through it together.</p>

<ol>
<li>Loads the <code  class="language-bash">dotenv</code> library, which will read our <code  class="language-bash">.env</code> file in our local machines and feed it into the <code  class="language-bash">process.env</code> variable.</li>
<li>Loads our <code  class="language-bash">environment.hbs</code> template file and feeds it into the handlebars compile API, which will return us a function that we can later use to fill in the gaps.</li>
<li>Configures the data we need to fill in our template, as you might notice, in the object, the key is the keys defined between the <code  class="language-bash">{{</code> and <code  class="language-bash">}}</code> in our handlebars template, handlebars will substitute that key with the value we’re passing in. In here we can also configure defaults for our variables.</li>
<li>Takes the data we made and sends it to the template ( <code  class="language-bash">template(data)</code> ), then saves it’s content to <code  class="language-bash">src/environments/environment.ts</code></li>
</ol>

<p>And voilà! Our environment file is ready for our custom n-th environment!</p>

<h2>Processing the template at each build</h2>

<p>We need to create a new script in our <code  class="language-bash">package.json</code> file, let’s call it ‘config’.</p>

<pre class="language-javascript">
<code class="language-javascript">
{
   ...
   "scripts": {
     "ng": "ng",
     "config": "node env-config.js",
     ...
   }
   ...
}
</code>
</pre>

<p>and now, we need to refer to it every time we build or need to serve our application:</p>

<pre class="language-javascript">
<code class="language-javascript">
{
   ...
   "scripts": {
     "ng": "ng",
     "config": "node env-config.js",
     "start": "npm run config && ng serve --configuration=local",
     "build": "npm run config && ng build --configuration=production --output-hashing=all",
     "build-dev": "npm run config && ng build --configuration=development --output-hashing=all",
     "build-local": "npm run config && ng build --configuration=local",
     "watch": "npm run config && ng build --watch --configuration local",
     "test": "npm run config && ng test",
     ...
   }
   ...
}
</code>
</pre>

<p>And here, folks, is how we parametrize the environment of an Angular application through the environment variables of the machines that build it.</p>
    </div>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6063500575269047"
        crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6063500575269047"
     data-ad-slot="1377606791"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    <div class="border-b border-pink-200 mb-10 flex justify-center">
        <iframe id='kofiframe' src='https://ko-fi.com/blacksoulgem95/?hidefeed=true&widget=true&embed=true&preview=true'
        style='border:none;width:100%;padding:4px;background:#f9f9f9;' height='712' title='blacksoulgem95'></iframe>    </div>

    <nav class="flex justify-between text-sm md:text-base mb-6">
        <div>
                    </div>

        <div>
                            <a href="https://italianprogrammer.pizza/2022/01/14/installing-imapsync-on-debian-derived-linux" title="Newer Post: Installing imapsync on Debian-derived Linux">
                    Installing imapsync on Debian-derived Linux &RightArrow;
                </a>
                    </div>
    </nav>

    <div class="flex justify-center flex-col mb-6 p-6">
    <p class="text-sm">By commenting you accept the website's <a href="https://www.iubenda.com/privacy-policy/70266224"
   class="iubenda-black no-brand iubenda-noiframe iubenda-embed iubenda-noiframe " title="Privacy Policy ">Privacy
    Policy</a>
<script type="text/javascript">(function (w, d) {
        var loader = function () {
            var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0];
            s.src = "https://cdn.iubenda.com/iubenda.js";
            tag.parentNode.insertBefore(s, tag);
        };
        if (w.addEventListener) {
            w.addEventListener("load", loader, false);
        } else if (w.attachEvent) {
            w.attachEvent("onload", loader);
        } else {
            w.onload = loader;
        }
    })(window, document);</script></p>
    <div id="valine"></div>
</div>

</main>

<footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
    <ul class="flex flex-col md:flex-row justify-around list-none gap-2">
        <li>
            &copy; 2022 - Sofia Vicedomini.
        </li>

        <li>
            <span id="random_quote"></span>
        </li>

        <li>
            
                <a href="https://go.italianprogrammer.pizza/github" target="_blank"
                   class="  mr-3  text-2xl md:text-base ">
                    <i class="fa-brands fa-github" aria-label="GitHub"></i>
                </a>
            
                <a href="https://go.italianprogrammer.pizza/linkedin" target="_blank"
                   class="  mr-3  text-2xl md:text-base ">
                    <i class="fa-brands fa-linkedin" aria-label="LinkedIn"></i>
                </a>
            
                <a href="https://go.italianprogrammer.pizza/twitter" target="_blank"
                   class="  mr-3  text-2xl md:text-base ">
                    <i class="fa-brands fa-twitter" aria-label="Twitter"></i>
                </a>
            
                <a href="https://go.italianprogrammer.pizza/mastodon" target="_blank"
                   class="  mr-3  text-2xl md:text-base ">
                    <i class="fa-brands fa-mastodon" aria-label="Mastodon"></i>
                </a>
            
                <a href="https://go.italianprogrammer.pizza/facebook" target="_blank"
                   class="  mr-3  text-2xl md:text-base ">
                    <i class="fa-brands fa-facebook" aria-label="Facebook"></i>
                </a>
            
                <a href="https://go.italianprogrammer.pizza/instagram" target="_blank"
                   class="  text-2xl md:text-base ">
                    <i class="fa-brands fa-instagram" aria-label="instagram"></i>
                </a>
                    </li>

        <li>
            <a class="flex flex-col" href="https://www.vultr.com/?ref=9085024-8H" target="_blank">
                <svg
viewBox="0 0 348 83.2" xmlns="http://www.w3.org/2000/svg" class="h-10"
>
    <defs>
        <style>.cls-1 {
                fill: #142149;
            }

            .cls-2 {
                fill: #c9f4ff;
            }

            .cls-3 {
                fill: #51b9ff;
            }

            .cls-4 {
                fill: #007bfc;
            }</style>
    </defs>
    <title>logo__on-white</title>
    <g id="text">
        <path class="cls-1"
              d="M347.68,60.4l-8.75-15.09A13.6,13.6,0,0,0,333.6,19.2H314.4a2.39,2.39,0,0,0-2.4,2.4v40a2.4,2.4,0,0,0,2.4,2.4H316a2.4,2.4,0,0,0,2.4-2.4V46.4h14l9.52,16.4A2.4,2.4,0,0,0,344,64h1.63a2.4,2.4,0,0,0,2.08-3.6ZM318.4,25.6h15.2a7.2,7.2,0,0,1,0,14.4H318.4Z"/>
        <path class="cls-1"
              d="M298.4,19.2H264.8a2.39,2.39,0,0,0-2.4,2.4v1.6a2.39,2.39,0,0,0,2.4,2.4h13.6v36a2.4,2.4,0,0,0,2.4,2.4h1.6a2.41,2.41,0,0,0,2.4-2.4v-36h13.6a2.4,2.4,0,0,0,2.4-2.4V21.6A2.4,2.4,0,0,0,298.4,19.2Z"/>
        <path class="cls-1"
              d="M263.2,57.6H241.6v-36a2.39,2.39,0,0,0-2.4-2.4h-1.6a2.39,2.39,0,0,0-2.4,2.4v40a2.4,2.4,0,0,0,2.4,2.4h25.6a2.4,2.4,0,0,0,2.4-2.4V60A2.39,2.39,0,0,0,263.2,57.6Z"/>
        <path class="cls-1"
              d="M222.4,21.6a2.39,2.39,0,0,0-2.4-2.4h-1.6a2.39,2.39,0,0,0-2.4,2.4V46.4a12,12,0,1,1-24,0V21.6a2.4,2.4,0,0,0-2.4-2.4H188a2.39,2.39,0,0,0-2.4,2.4V46.4a18.4,18.4,0,1,0,36.8,0Z"/>
        <path class="cls-1"
              d="M173.6,19.2h-1.51a2.38,2.38,0,0,0-2.23,1.51L156,55.35,142.14,20.71a2.38,2.38,0,0,0-2.23-1.51H138.4a2.4,2.4,0,0,0-2.23,3.29l16,40A2.39,2.39,0,0,0,154.4,64h3.2a2.39,2.39,0,0,0,2.23-1.51l16-40a2.4,2.4,0,0,0-2.23-3.29Z"/>
    </g>
    <g id="sygnet">
        <path class="cls-2" d="M33.45,2.24A4.78,4.78,0,0,0,29.39,0H4.8A4.8,4.8,0,0,0,.74,7.36l5,8,32.71-5.12Z"/>
        <path class="cls-3"
              d="M38.49,10.24A4.78,4.78,0,0,0,34.43,8H9.84a4.8,4.8,0,0,0-4.06,7.36l7.06,11.2,32.71-5.12Z"/>
        <path class="cls-4"
              d="M12.84,26.56A4.85,4.85,0,0,1,12.1,24a4.8,4.8,0,0,1,4.8-4.8H41.49a4.78,4.78,0,0,1,4.06,2.24l22,34.9a4.8,4.8,0,0,1,0,5.12L55.26,81a4.8,4.8,0,0,1-8.12,0Z"/>
        <path class="cls-4"
              d="M74.85,37A4.8,4.8,0,0,0,83,37L87.2,30.3l8.06-12.79a4.8,4.8,0,0,0,0-5.12L88.86,2.24A4.78,4.78,0,0,0,84.8,0H60.21a4.8,4.8,0,0,0-4.06,7.36Z"/>
    </g>
</svg>                Get $100 Credit on Vultr
            </a>
        </li>

        <li>
            <div class="flex-col flex gap-2">
                <div>
                    <a href="https://www.iubenda.com/privacy-policy/70266224"
   class="iubenda-black no-brand iubenda-noiframe iubenda-embed iubenda-noiframe " title="Privacy Policy ">Privacy
    Policy</a>
<script type="text/javascript">(function (w, d) {
        var loader = function () {
            var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0];
            s.src = "https://cdn.iubenda.com/iubenda.js";
            tag.parentNode.insertBefore(s, tag);
        };
        if (w.addEventListener) {
            w.addEventListener("load", loader, false);
        } else if (w.attachEvent) {
            w.attachEvent("onload", loader);
        } else {
            w.onload = loader;
        }
    })(window, document);</script>                </div>
                <div>
                    <a href="https://www.iubenda.com/privacy-policy/70266224/cookie-policy"
   class="iubenda-black no-brand iubenda-noiframe iubenda-embed iubenda-noiframe " title="Cookie Policy ">Cookie
    Policy</a>
<script type="text/javascript">(function (w, d) {
        var loader = function () {
            var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0];
            s.src = "https://cdn.iubenda.com/iubenda.js";
            tag.parentNode.insertBefore(s, tag);
        };
        if (w.addEventListener) {
            w.addEventListener("load", loader, false);
        } else if (w.attachEvent) {
            w.attachEvent("onload", loader);
        } else {
            w.onload = loader;
        }
    })(window, document);</script>                </div>
            </div>
        </li>
    </ul>
</footer>

<script src="/assets/build/js/main.js?id=82399f21969969e7ac5ea31ba590d50d"></script>
    <script>
        new Valine({
            el: "#valine",
            appId: 'Y6KS0fajEtMP1Lbcg5HSfhli-MdYXbMMI',
            appKey: 'AKj9dL9s6YzaIVW531YyxXhz',
            lang: 'en',
            serverURLs: 'https://y6ks0faj.api.lncldglobal.com',
            avatar: 'robohash',
            placeholder: "Wow this is amazing!"
        })
    </script>
<script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>
    <script>
        setRandomQuote()
    </script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6063500575269047"
        crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-STKVFDTKVJ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-STKVFDTKVJ');
</script>
<div id="collection-component-1647361851874" style="display: none"></div>
<script type="text/javascript">
/*<![CDATA[*/
(function () {
  var scriptURL = 'https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js';
  if (window.ShopifyBuy) {
    if (window.ShopifyBuy.UI) {
      ShopifyBuyInit();
    } else {
      loadScript();
    }
  } else {
    loadScript();
  }
  function loadScript() {
    var script = document.createElement('script');
    script.async = true;
    script.src = scriptURL;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(script);
    script.onload = ShopifyBuyInit;
  }
  function ShopifyBuyInit() {
    var client = ShopifyBuy.buildClient({
      domain: 'italianprogrammer.myshopify.com',
      storefrontAccessToken: '2ab9c6062b1a60e1887585ddf8f15da8',
    });
    ShopifyBuy.UI.onReady(client).then(function (ui) {
      ui.createComponent('collection', {
        id: '282659389636',
        node: document.getElementById('collection-component-1647361851874'),
        moneyFormat: '%E2%82%AC%7B%7Bamount_with_comma_separator%7D%7D',
        options: {
  "product": {
    "styles": {
      "product": {
        "@media (min-width: 601px)": {
          "max-width": "calc(25% - 20px)",
          "margin-left": "20px",
          "margin-bottom": "50px",
          "width": "calc(25% - 20px)"
        },
        "img": {
          "height": "calc(100% - 15px)",
          "position": "absolute",
          "left": "0",
          "right": "0",
          "top": "0"
        },
        "imgWrapper": {
          "padding-top": "calc(75% + 15px)",
          "position": "relative",
          "height": "0"
        }
      },
      "button": {
        ":hover": {
          "background-color": "#c5246b"
        },
        "background-color": "#db2877",
        ":focus": {
          "background-color": "#c5246b"
        },
        "border-radius": "15px"
      }
    },
    "text": {
      "button": "Add to cart"
    }
  },
  "productSet": {
    "styles": {
      "products": {
        "@media (min-width: 601px)": {
          "margin-left": "-20px"
        }
      }
    }
  },
  "modalProduct": {
    "contents": {
      "img": false,
      "imgWithCarousel": true,
      "button": false,
      "buttonWithQuantity": true
    },
    "styles": {
      "product": {
        "@media (min-width: 601px)": {
          "max-width": "100%",
          "margin-left": "0px",
          "margin-bottom": "0px"
        }
      },
      "button": {
        ":hover": {
          "background-color": "#c5246b"
        },
        "background-color": "#db2877",
        ":focus": {
          "background-color": "#c5246b"
        },
        "border-radius": "15px"
      }
    },
    "text": {
      "button": "Add to cart"
    }
  },
  "option": {},
  "cart": {
    "styles": {
      "button": {
        ":hover": {
          "background-color": "#c5246b"
        },
        "background-color": "#db2877",
        ":focus": {
          "background-color": "#c5246b"
        },
        "border-radius": "15px"
      }
    },
    "text": {
      "total": "Subtotal",
      "button": "Checkout"
    }
  },
  "toggle": {
    "styles": {
      "toggle": {
        "background-color": "#db2877",
        ":hover": {
          "background-color": "#c5246b"
        },
        ":focus": {
          "background-color": "#c5246b"
        }
      }
    }
  }
},
      });
    });
  }
})();
/*]]>*/
</script></body>
</html>
